{"ast":null,"code":"import axios from 'axios';\nimport setAuthToken from 'src/utils/setAuthToken';\nimport { USER_LOADED, LOGIN_SUCCESS, AUTH_ERROR, LOGOUT } from './types'; // Login User\n\nexport const login = response => dispatch => {\n  dispatch({\n    type: LOGIN_SUCCESS,\n    payload: response\n  });\n  dispatch(loadUser());\n}; // Load User\n\nexport const loadUser = () => async dispatch => {\n  if (localStorage.token) {\n    setAuthToken(localStorage.token);\n\n    try {\n      const res = await axios.get('auth'); // const res = await axios.get(`${baseUrl}/users/self/`);\n\n      dispatch({\n        type: USER_LOADED,\n        payload: res.data\n      });\n    } catch (err) {\n      dispatch({\n        type: AUTH_ERROR\n      });\n    }\n  } else {\n    dispatch({\n      type: AUTH_ERROR\n    });\n  }\n}; // Logout User\n\nexport const logout = () => async dispatch => {\n  dispatch({\n    type: LOGOUT\n  });\n};","map":{"version":3,"sources":["C:/Users/KYM/Desktop/calorie/client/src/actions/auth.js"],"names":["axios","setAuthToken","USER_LOADED","LOGIN_SUCCESS","AUTH_ERROR","LOGOUT","login","response","dispatch","type","payload","loadUser","localStorage","token","res","get","data","err","logout"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AAEA,SAASC,WAAT,EAAsBC,aAAtB,EAAqCC,UAArC,EAAiDC,MAAjD,QAA+D,SAA/D,C,CAEA;;AACA,OAAO,MAAMC,KAAK,GAAIC,QAAD,IAAeC,QAAD,IAAc;AAC/CA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAEN,aADC;AAEPO,IAAAA,OAAO,EAAEH;AAFF,GAAD,CAAR;AAKAC,EAAAA,QAAQ,CAACG,QAAQ,EAAT,CAAR;AACD,CAPM,C,CASP;;AACA,OAAO,MAAMA,QAAQ,GAAG,MAAM,MAAOH,QAAP,IAAoB;AAChD,MAAII,YAAY,CAACC,KAAjB,EAAwB;AACtBZ,IAAAA,YAAY,CAACW,YAAY,CAACC,KAAd,CAAZ;;AACA,QAAI;AACF,YAAMC,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAN,CAAU,MAAV,CAAlB,CADE,CAEF;;AAEAP,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEP,WAAR;AAAqBQ,QAAAA,OAAO,EAAEI,GAAG,CAACE;AAAlC,OAAD,CAAR;AACD,KALD,CAKE,OAAOC,GAAP,EAAY;AACZT,MAAAA,QAAQ,CAAC;AAAEC,QAAAA,IAAI,EAAEL;AAAR,OAAD,CAAR;AACD;AACF,GAVD,MAUO;AACLI,IAAAA,QAAQ,CAAC;AAAEC,MAAAA,IAAI,EAAEL;AAAR,KAAD,CAAR;AACD;AACF,CAdM,C,CAgBP;;AACA,OAAO,MAAMc,MAAM,GAAG,MAAM,MAAOV,QAAP,IAAoB;AAC9CA,EAAAA,QAAQ,CAAC;AAAEC,IAAAA,IAAI,EAAEJ;AAAR,GAAD,CAAR;AACD,CAFM","sourcesContent":["import axios from 'axios';\r\nimport setAuthToken from 'src/utils/setAuthToken';\r\n\r\nimport { USER_LOADED, LOGIN_SUCCESS, AUTH_ERROR, LOGOUT } from './types';\r\n\r\n// Login User\r\nexport const login = (response) => (dispatch) => {\r\n  dispatch({\r\n    type: LOGIN_SUCCESS,\r\n    payload: response,\r\n  });\r\n\r\n  dispatch(loadUser());\r\n};\r\n\r\n// Load User\r\nexport const loadUser = () => async (dispatch) => {\r\n  if (localStorage.token) {\r\n    setAuthToken(localStorage.token);\r\n    try {\r\n      const res = await axios.get('auth');\r\n      // const res = await axios.get(`${baseUrl}/users/self/`);\r\n\r\n      dispatch({ type: USER_LOADED, payload: res.data });\r\n    } catch (err) {\r\n      dispatch({ type: AUTH_ERROR });\r\n    }\r\n  } else {\r\n    dispatch({ type: AUTH_ERROR });\r\n  }\r\n};\r\n\r\n// Logout User\r\nexport const logout = () => async (dispatch) => {\r\n  dispatch({ type: LOGOUT });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}