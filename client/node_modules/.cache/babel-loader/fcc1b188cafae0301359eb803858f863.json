{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\KYM\\\\Desktop\\\\calorie\\\\client\\\\src\\\\components\\\\today-calories\\\\AddConsumption.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport ReactAutocomplete from 'react-autocomplete';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddConsumption = ({\n  addConsumption\n}) => {\n  _s();\n\n  const [state, setState] = useState({\n    foods: [],\n    loading: true,\n    food: {\n      id: '',\n      value: 'Loading...'\n    }\n  });\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await axios.get('foods/available');\n      setState({ ...state,\n        foods: res.data,\n        loading: false,\n        food: {\n          id: '',\n          value: res.data.length > 0 ? '' : 'Your foods list is empty'\n        }\n      });\n    };\n\n    fetchData();\n  }, []);\n\n  const handleOnSelect = (value, item) => {\n    setState({ ...state,\n      food: item\n    });\n  };\n\n  const handleAddToList = () => {\n    const {\n      food,\n      foods\n    } = state;\n    const selectedFood = foods.find(selectedFood => selectedFood._id === food.id); // Adding the food the consumption list\n\n    addConsumption(selectedFood);\n  };\n\n  const {\n    foods,\n    loading,\n    food\n  } = state;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n      style: {\n        display: 'inline'\n      },\n      children: \" Add a consumption \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), \"(if you want to add a new food click \", /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/my-foods\",\n      children: \"here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 44\n    }, this), \" )\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ReactAutocomplete, {\n      items: // We map the foods for ReactAutocomplete\n      foods.map(food => ({\n        id: food._id,\n        value: `${food.name} (${food.caloriesPerPortion} c)`\n      })),\n      shouldItemRender: (item, value) => item.value.toLowerCase().indexOf(value.toLowerCase()) > -1,\n      getItemValue: item => item.value,\n      renderInput: props => /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"form-control mb-0 mx\",\n        disabled: loading || foods.length < 1,\n        ...props\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this),\n      renderItem: (item, highlighted) => /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          backgroundColor: highlighted ? '#55973f' : 'transparent',\n          color: highlighted ? 'white' : 'black',\n          textAlign: 'left',\n          padding: '8px'\n        },\n        children: item.value\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this),\n      value: state.food.value,\n      onChange: e => setState({ ...state,\n        food: {\n          value: e.target.value,\n          id: ''\n        }\n      }),\n      onSelect: handleOnSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"primary-button  btn-lg rounded-pill mt-4 ms-0 ms-sm-4\",\n      style: {\n        padding: '.320rem 1.75rem'\n      },\n      role: \"button\",\n      disabled: !food.id,\n      onClick: handleAddToList,\n      children: \"Add\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AddConsumption, \"0ySKPrA3WnggDQUzLdi/Xpm4zHU=\");\n\n_c = AddConsumption;\nAddConsumption.propTypes = {\n  addConsumption: PropTypes.func.isRequired\n};\nexport default AddConsumption;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddConsumption\");","map":{"version":3,"sources":["C:/Users/KYM/Desktop/calorie/client/src/components/today-calories/AddConsumption.js"],"names":["React","useEffect","useState","PropTypes","Link","axios","ReactAutocomplete","AddConsumption","addConsumption","state","setState","foods","loading","food","id","value","fetchData","res","get","data","length","handleOnSelect","item","handleAddToList","selectedFood","find","_id","display","map","name","caloriesPerPortion","toLowerCase","indexOf","props","highlighted","backgroundColor","color","textAlign","padding","e","target","propTypes","func","isRequired"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport ReactAutocomplete from 'react-autocomplete';\r\n\r\nconst AddConsumption = ({ addConsumption }) => {\r\n  const [state, setState] = useState({\r\n    foods: [],\r\n    loading: true,\r\n    food: { id: '', value: 'Loading...' },\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const res = await axios.get('foods/available');\r\n      setState({\r\n        ...state,\r\n        foods: res.data,\r\n        loading: false,\r\n        food: {\r\n          id: '',\r\n          value: res.data.length > 0 ? '' : 'Your foods list is empty',\r\n        },\r\n      });\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleOnSelect = (value, item) => {\r\n    setState({ ...state, food: item });\r\n  };\r\n\r\n  const handleAddToList = () => {\r\n    const { food, foods } = state;\r\n    const selectedFood = foods.find(\r\n      (selectedFood) => selectedFood._id === food.id\r\n    );\r\n\r\n    // Adding the food the consumption list\r\n    addConsumption(selectedFood);\r\n  };\r\n\r\n  const { foods, loading, food } = state;\r\n\r\n  return (\r\n    <div className=\"mb-5\">\r\n      <h5 style={{ display: 'inline' }}> Add a consumption </h5>\r\n      (if you want to add a new food click <Link to=\"/my-foods\">here</Link> )\r\n      <br />\r\n      <ReactAutocomplete\r\n        items={\r\n          // We map the foods for ReactAutocomplete\r\n          foods.map((food) => ({\r\n            id: food._id,\r\n            value: `${food.name} (${food.caloriesPerPortion} c)`,\r\n          }))\r\n        }\r\n        shouldItemRender={(item, value) =>\r\n          item.value.toLowerCase().indexOf(value.toLowerCase()) > -1\r\n        }\r\n        getItemValue={(item) => item.value}\r\n        renderInput={(props) => (\r\n          <input\r\n            className=\"form-control mb-0 mx\"\r\n            disabled={loading || foods.length < 1}\r\n            {...props}\r\n          />\r\n        )}\r\n        renderItem={(item, highlighted) => (\r\n          <div\r\n            key={item.id}\r\n            style={{\r\n              backgroundColor: highlighted ? '#55973f' : 'transparent',\r\n              color: highlighted ? 'white' : 'black',\r\n              textAlign: 'left',\r\n              padding: '8px',\r\n            }}\r\n          >\r\n            {item.value}\r\n          </div>\r\n        )}\r\n        value={state.food.value}\r\n        onChange={(e) =>\r\n          setState({ ...state, food: { value: e.target.value, id: '' } })\r\n        }\r\n        onSelect={handleOnSelect}\r\n      />\r\n      <button\r\n        className=\"primary-button  btn-lg rounded-pill mt-4 ms-0 ms-sm-4\"\r\n        style={{\r\n          padding: '.320rem 1.75rem',\r\n        }}\r\n        role=\"button\"\r\n        disabled={!food.id}\r\n        onClick={handleAddToList}\r\n      >\r\n        Add\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nAddConsumption.propTypes = {\r\n  addConsumption: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AddConsumption;\r\n"]},"metadata":{},"sourceType":"module"}