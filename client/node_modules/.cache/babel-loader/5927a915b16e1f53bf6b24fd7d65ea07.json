{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Admin\\\\OneDrive\\\\Desktop\\\\CalFit\\\\client\\\\src\\\\pages\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect, Link } from 'react-router-dom';\nimport { Helmet } from 'react-helmet-async';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { WEBSITE_NAME } from 'src/utils/brand';\nimport TextInput from 'src/components/forms/TextInput';\nimport CheckBox from 'src/components/forms/CheckBox';\nimport AsyncButton from 'src/components/buttons/AsyncButton';\nimport 'src/styles/Auth.scss';\nimport { login } from 'src/actions/auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = _ref => {\n  _s();\n\n  let {\n    isAuthenticated,\n    login\n  } = _ref;\n  const [state, setState] = useState({\n    email: '',\n    password: '',\n    remember: false,\n    loading: false,\n    errors: []\n  });\n\n  const handleOnChange = async e => {\n    setState({ ...state,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleCheck = async e => {\n    setState(prevState => ({ ...prevState,\n      [e.target.name]: e.target.checked\n    }));\n  };\n\n  const handleRegister = async e => {\n    e.preventDefault();\n    setState({ ...state,\n      errors: [],\n      loading: true\n    });\n    const {\n      email,\n      password,\n      remember\n    } = state;\n    const formData = {\n      email,\n      password,\n      remember\n    };\n\n    try {\n      const res = await axios.post('auth/login', formData);\n      login(res.data); // TODO : Add auth to global state\n    } catch (error) {\n      const {\n        response: {\n          data: {\n            errors\n          }\n        }\n      } = error;\n      setState(prevState => ({ ...prevState,\n        errors,\n        loading: false\n      }));\n    }\n  };\n\n  const {\n    email,\n    password,\n    remember,\n    loading,\n    errors\n  } = state;\n\n  if (isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-box text-center p-5 m-5 mx-auto bg-light\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: `${WEBSITE_NAME} - Sign in`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-signin\",\n      onSubmit: handleRegister,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"form-title h3 mb-5 font-weight-normal\",\n        children: \"Sign in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        name: \"email\",\n        value: email,\n        label: \"Email*\",\n        type: \"email\",\n        required: true,\n        errors: errors,\n        onChange: handleOnChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        name: \"password\",\n        value: password,\n        label: \"Password*\",\n        type: \"password\",\n        required: true,\n        errors: errors,\n        onChange: handleOnChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-4\",\n        children: /*#__PURE__*/_jsxDEV(CheckBox, {\n          name: \"remember\",\n          text: \"Remember me\",\n          checked: remember,\n          onChange: handleCheck\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-4\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"If you do not have an account, sign up\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n            style: {\n              fontWeight: '400'\n            },\n            to: \"/register\",\n            children: \"here\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AsyncButton, {\n        type: \"submit\",\n        text: \"Login\",\n        className: \"primary-button btn-lg rounded-pill mt-1 py-2 px-4\",\n        loading: loading,\n        disabled: !email || !password\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"484MBxUbI3SU07B0VDcTV9Qn0WQ=\");\n\n_c = Login;\n\nconst mapStateToProps = state => ({\n  isAuthenticated: state.auth.isAuthenticated\n});\n\nLogin.propTypes = {\n  isAuthenticated: PropTypes.bool.isRequired,\n  login: PropTypes.func.isRequired\n};\nexport default connect(mapStateToProps, {\n  login\n})(Login);\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","PropTypes","Redirect","Link","Helmet","connect","axios","WEBSITE_NAME","TextInput","CheckBox","AsyncButton","login","Login","isAuthenticated","state","setState","email","password","remember","loading","errors","handleOnChange","e","target","name","value","handleCheck","prevState","checked","handleRegister","preventDefault","formData","res","post","data","error","response","fontWeight","mapStateToProps","auth","propTypes","bool","isRequired","func"],"sources":["C:/Users/Admin/OneDrive/Desktop/CalFit/client/src/pages/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Redirect, Link } from 'react-router-dom';\r\nimport { Helmet } from 'react-helmet-async';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\n\r\nimport { WEBSITE_NAME } from 'src/utils/brand';\r\nimport TextInput from 'src/components/forms/TextInput';\r\nimport CheckBox from 'src/components/forms/CheckBox';\r\nimport AsyncButton from 'src/components/buttons/AsyncButton';\r\nimport 'src/styles/Auth.scss';\r\nimport { login } from 'src/actions/auth';\r\n\r\nconst Login = ({ isAuthenticated, login }) => {\r\n  const [state, setState] = useState({\r\n    email: '',\r\n    password: '',\r\n    remember: false,\r\n    loading: false,\r\n    errors: [],\r\n  });\r\n\r\n  const handleOnChange = async (e) => {\r\n    setState({ ...state, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleCheck = async (e) => {\r\n    setState((prevState) => ({\r\n      ...prevState,\r\n      [e.target.name]: e.target.checked,\r\n    }));\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setState({ ...state, errors: [], loading: true });\r\n    const { email, password, remember } = state;\r\n\r\n    const formData = { email, password, remember };\r\n    try {\r\n      const res = await axios.post('auth/login', formData);\r\n\r\n      login(res.data);\r\n\r\n      // TODO : Add auth to global state\r\n    } catch (error) {\r\n      const {\r\n        response: {\r\n          data: { errors },\r\n        },\r\n      } = error;\r\n      setState((prevState) => ({ ...prevState, errors, loading: false }));\r\n    }\r\n  };\r\n\r\n  const { email, password, remember, loading, errors } = state;\r\n\r\n  if (isAuthenticated) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n\r\n  return (\r\n    <div className=\"form-box text-center p-5 m-5 mx-auto bg-light\">\r\n      <Helmet>\r\n        <title>{`${WEBSITE_NAME} - Sign in`}</title>\r\n      </Helmet>\r\n      <form className=\"form-signin\" onSubmit={handleRegister}>\r\n        <h1 className=\"form-title h3 mb-5 font-weight-normal\">Sign in</h1>\r\n\r\n        <TextInput\r\n          name=\"email\"\r\n          value={email}\r\n          label=\"Email*\"\r\n          type=\"email\"\r\n          required\r\n          errors={errors}\r\n          onChange={handleOnChange}\r\n        />\r\n        <TextInput\r\n          name=\"password\"\r\n          value={password}\r\n          label=\"Password*\"\r\n          type=\"password\"\r\n          required\r\n          errors={errors}\r\n          onChange={handleOnChange}\r\n        />\r\n\r\n        <div className=\"my-4\">\r\n          <CheckBox\r\n            name=\"remember\"\r\n            text=\"Remember me\"\r\n            checked={remember}\r\n            onChange={handleCheck}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"my-4\">\r\n          <p>\r\n            If you do not have an account, sign up{' '}\r\n            <Link style={{ fontWeight: '400' }} to=\"/register\">\r\n              here\r\n            </Link>\r\n          </p>\r\n        </div>\r\n\r\n        <AsyncButton\r\n          type=\"submit\"\r\n          text=\"Login\"\r\n          className=\"primary-button btn-lg rounded-pill mt-1 py-2 px-4\"\r\n          loading={loading}\r\n          disabled={!email || !password}\r\n        />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuthenticated: state.auth.isAuthenticated,\r\n});\r\n\r\nLogin.propTypes = {\r\n  isAuthenticated: PropTypes.bool.isRequired,\r\n  login: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}